define(["snmd-core/js/Core","snmd-core/js/GUI","jquery"],function(t,s,i){"use strict";var a=function(t,s,a,e){if(this.opts=a,this.root=t,this.txt=s,this.txt.style.stroke="",this.txt.style.fill="",this.txt.textContent="?",a.cls.base.forEach(function(t){this.txt.classList.add(t)},this),void 0!==e){var o=i(this.txt);o.addClass("snmd-bcl-Widget"),o.qtip(e)}};return a.prototype.update=function(i,a,e){this.last_val===i&&a===this.last_state||(void 0===e&&(e=!0),this.txt.textContent=e?t.srSiFormatNum(i,this.opts.uom,"-",this.opts.fracts):i,this.last_val=i,a!==this.last_state&&(this.opts.cls.state.forEach(function(t){this.txt.classList.remove(t+this.last_state)},this),this.opts.cls.state.forEach(function(t){this.txt.classList.add(t+a)},this),this.last_state=a,s.srStateChanged(this.root._svg.parentElement.id,this.txt.id,a)))},a});